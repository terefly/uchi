(()=>{"use strict";function e(){for(let e=0;e<15;e++)t()}function t(){fetch("https://api.thecatapi.com/v1/images/search").then((e=>e.json())).then((e=>{if(e[0].width===e[0].height){let t=e[0].url,n=document.createElement("div");n.classList.add("imgContainer"),n.innerHTML=`<img src="${t}"><div class="icon">\n        <svg class="addToFavorite" viewBox="0 0 512 512" width="100" title="heart">\n          <path class="addTo" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z" />\n        </svg><div class="icon">\n        <svg class="removeFromFavorite" viewBox="0 0 512 512" width="100" title="heart">\n          <path class="removeFrom" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z" />\n        </svg>`,document.querySelector(".canvas").appendChild(n)}else t()})).catch((e=>console.log(e)))}function n(){let e=JSON.parse(localStorage.getItem("favLinks"));for(let t=0;t<e.length;t++){let n=document.createElement("div");n.classList.add("imgContainer"),n.innerHTML=`<img src="${e[t]}"><div class="icon">\n        <svg class="addToFavorite" viewBox="0 0 512 512" width="100" title="heart">\n          <path class="addTo" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z" />\n        </svg><div class="icon">\n        <svg class="removeFromFavorite" viewBox="0 0 512 512" width="100" title="heart">\n          <path class="removeFrom" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z" />\n        </svg>`,document.querySelector(".favCanvas").appendChild(n)}window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=document.documentElement.scrollHeight&&n()}))}window.addEventListener("pointermove",(function(e){if(e.target.matches(".imgContainer")||e.target.matches("img")){let t;e.target.matches("img")?t=e.target.closest(".imgContainer"):e.target.matches(".imgContainer")&&(t=e.target);const n=t.querySelector("img").src,i=t.querySelector(".addToFavorite"),l=t.querySelector(".removeFromFavorite");null==localStorage.getItem("favLinks")&&localStorage.setItem("favLinks","[]");let o=JSON.parse(localStorage.getItem("favLinks"));o.includes(n)||(i.style.display="block"),o.includes(n)&&(l.style.display="block"),t.addEventListener("click",(function(e){console.log(e.target)})),t.addEventListener("click",(function(e){if(e.target.matches(".addTo")&&!o.includes(n))o.push(n),localStorage.setItem("favLinks",JSON.stringify(o)),i.style.display="none",l.style.display="block";else if(e.target.matches(".removeFrom")){let e=o.indexOf(n);-1!=e&&o.splice(e,1),localStorage.setItem("favLinks",JSON.stringify(o)),l.style.display="none",i.style.display="block"}})),t.addEventListener("pointerleave",(function(){i.style.display="none",l.style.display="none"}))}})),function(){const e=document.querySelectorAll(".page-header_navigation-item");"Все котики"===document.title&&e[0].classList.add("nav-active"),"Любимые котики"===document.title&&e[1].classList.add("nav-active")}(),"Все котики"==document.title&&(e(),window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=.99*document.documentElement.scrollHeight&&e()}))),"Любимые котики"==document.title&&(n(),window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=.99*document.documentElement.scrollHeight&&n()})))})();